<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tim Beckman Music</title>
  <meta name="description" content="Tim Beckman is a Maryland musician blending Appalachian roots with modern acoustic sound." />
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600&family=Playfair+Display:wght@600;700&family=Caveat:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root{
      --cream:#f8f5f0;
      --navy:#1c2a35;
      --brass:#bca87f;
      --ink:#131a20;
      --logo-serif:'Playfair Display',serif;
      --hero-bg:#0f151a;
    }

    *{box-sizing:border-box;margin:0;padding:0;}
    body{font-family:'Montserrat',sans-serif;background:var(--cream);color:var(--ink);line-height:1.72;font-size:16.5px;}
    .container{max-width:1120px;margin:0 auto;padding:0 20px;}

    /* NAV */
    .topnav{
      position:sticky;top:0;z-index:50;
      background:var(--cream);
      border-bottom:1px solid rgba(0,0,0,.12);
    }
    .nav-inner{
      max-width:1100px;margin:0 auto;padding:12px 20px;
      display:flex;align-items:center;justify-content:flex-end;
    }
    .nav-links{
      list-style:none;display:flex;align-items:center;gap:22px;
      font-family:var(--logo-serif);text-transform:uppercase;letter-spacing:.8px;
    }
    .nav-links a{
      color:var(--ink);text-decoration:none;font-weight:700;opacity:.9;padding:8px 4px;
    }
    .nav-links a:hover{
      opacity:1;text-decoration:underline;text-underline-offset:3px;
    }
    .menu-item{position:relative;}
    .submenu{
      position:absolute;top:100%;left:0;min-width:220px;
      background:#fff;border:1px solid rgba(0,0,0,.12);border-radius:10px;
      padding:8px;list-style:none;margin-top:8px;display:none;z-index:100;
      box-shadow:0 12px 30px rgba(0,0,0,.15);
    }
    .submenu li a{
      display:block;padding:10px 12px;border-radius:8px;color:#000;
    }
    .submenu li a:hover{background:rgba(0,0,0,.06);}
    .menu-item:hover .submenu,
    .menu-item:focus-within .submenu{display:block;}

    /* HERO (full image visible; centered) */
    header.hero{
      position:relative;
      height:100vh;
      background:var(--hero-bg);
      overflow:hidden;
      text-align:center;
    }
    .hero-bg{
      position:absolute;inset:0;z-index:0;
      display:flex;align-items:center;justify-content:center;
      background:var(--hero-bg);
    }
    .hero-bg img{
      max-width:100%;
      max-height:100%;
      width:auto;height:auto;
      object-fit:contain;
      object-position:center center;
      filter:grayscale(100%) contrast(1.05) brightness(0.9);
    }

    /* Hairline top & bottom brass borders */
    .hero::before,
    .hero::after{
      content:"";
      position:absolute;left:0;right:0;height:6px;z-index:2;
      background:var(--hero-bg);
    }
    .hero::before{top:0;border-bottom:1px solid var(--brass);}
    .hero::after{bottom:0;border-top:1px solid var(--brass);}

    /* Center stack: logo + socials */
    .hero-center{
      position:absolute;left:50%;top:50%;
      transform:translate(-50%,-50%);
      z-index:3;
      display:flex;flex-direction:column;align-items:center;
      gap:16px;padding:0 12px;
      opacity:0;animation:fadeIn 2.8s cubic-bezier(.22,.61,.36,1) forwards .25s;
    }
    @keyframes fadeIn{
      from{opacity:0;transform:translate(-50%,-48%);}
      to{opacity:1;transform:translate(-50%,-50%);}
    }
    .hero-center img{
      width:clamp(190px,26vw,470px);
      height:auto;
    }

    .social-icons{
      display:flex;gap:16px;align-items:center;justify-content:center;
    }
    .social-icons a{
      display:inline-flex;align-items:center;justify-content:center;
      width:38px;height:38px;border-radius:999px;
      background:rgba(0,0,0,.5);
      box-shadow:0 2px 6px rgba(0,0,0,.35);
      transition:transform .2s ease,background .2s ease;
    }
    .social-icons a:hover{
      transform:translateY(-3px);
      background:rgba(0,0,0,.7);
    }
    .social-icons svg{
      width:18px;height:18px;fill:#fff;
    }

    @media(max-height:780px){
      .hero-center img{width:clamp(180px,24vw,430px);}
      .social-icons a{width:34px;height:34px;}
      .social-icons svg{width:17px;height:17px;}
      .hero-center{gap:12px;}
    }

    /* ABOUT */
    /* ABOUT – photo with overlay text */
section.about-me{
  padding:90px 20px;
  background:var(--cream);
  text-align:center;
}

.about-card{
  position:relative;
  max-width:900px;
  margin:0 auto;
}

.about-card img{
  width:100%;
  height:auto;
  display:block;
  border-radius:18px;
  box-shadow:0 10px 28px rgba(0,0,0,.22);
  object-fit:cover;
}

/* overlay box on top of photo */
.about-overlay{
  position:absolute;
  left:8%;
  right:8%;
  bottom:8%;
  background:rgba(15,21,26,.78);
  color:var(--cream);
  border-radius:14px;
  padding:20px 24px;
  backdrop-filter:blur(4px);
  text-align:left;
}

/* handwritten heading */
.about-handwritten{
  font-family:'Caveat', cursive;
  font-size:clamp(26px,3vw,34px);
  margin:0 0 8px;
}

/* body copy */
.about-copy{
  font-size:15.5px;
  line-height:1.8;
}
.about-copy a{
  color:var(--brass);
  text-decoration:none;
}
.about-copy a:hover{
  text-decoration:underline;
}

/* Mobile tweaks */
@media(max-width:900px){
  .about-card{
    max-width:600px;
  }
  .about-overlay{
    left:6%;
    right:6%;
    bottom:6%;
    padding:16px 18px;
  }
}


    /* WATCH + EVENTS */
    section.watch{
      background:var(--cream);
      padding:80px 20px;
    }
    .watch .wrap{
      max-width:1100px;
      margin:0 auto;
      display:grid;
      grid-template-columns:1.8fr 1fr;
      gap:28px;
      align-items:start;
    }
    .watch h2{
      font-family:'Playfair Display',serif;
      color:var(--navy);
      font-size:clamp(28px,3.2vw,40px);
      margin:0 0 14px;
    }

    /* Video embed (16:9) */
    .video-embed{
      position:relative;
      width:100%;
      padding-bottom:62.5%;
      height:0;
      overflow:hidden;
      border-radius:14px;
      box-shadow:0 6px 24px rgba(0,0,0,.18);
      background:#000;
    }
    .video-embed iframe{
      position:absolute;inset:0;
      width:100%;height:100%;
      border:0;
    }

    /* Events: stacked lines */
    .events{
      background:#fff;
      border:1px solid rgba(0,0,0,.08);
      border-radius:14px;
      box-shadow:0 8px 20px rgba(0,0,0,.06);
      padding:16px;
    }
    .events h3{
      font-family:'Playfair Display',serif;
      font-size:clamp(22px,2.6vw,28px);
      color:var(--navy);
      margin:6px 6px 12px;
    }
    .events-list{
      display:flex;
      flex-direction:column;
      gap:10px;
      min-height:40px;
    }
    .ev{
      padding:12px;
      border-radius:12px;
      border:1px dashed rgba(0,0,0,.12);
      background:#fafafa;
    }
    .ev .line1{
      font-weight:800;
      color:var(--ink);
      margin-bottom:2px;
    }
    .ev .line2{
      opacity:.85;
    }
    .ev .meta{
      font-size:13px;
      opacity:.7;
      margin-top:6px;
    }
    .ev .cta{
      display:inline-block;
      margin-top:8px;
      font-weight:700;
      text-decoration:none;
      background:var(--brass);
      color:#1a1a1a;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid rgba(0,0,0,.12);
    }
    .ev .cta:hover{
      filter:brightness(.92);
    }

    .cal-links{
      display:flex;
      gap:12px;
      margin-top:12px;
      flex-wrap:wrap;
    }
    .cal-links a{
      font-weight:700;
      text-decoration:none;
      background:var(--brass);
      color:#1a1a1a;
      padding:8px 12px;
      border-radius:999px;
      border:1px solid rgba(0,0,0,.12);
    }
    .cal-links a:hover{
      filter:brightness(.92);
    }

    /* Mobile stack */
    @media(max-width:900px){
      .watch .wrap{grid-template-columns:1fr;}
    }

    /* FOOTER */
    footer.site{
      background:linear-gradient(180deg,#10161b,#0c1116);
      color:#cfd7dd;
      padding:48px 20px;
      text-align:center;
    }
    footer.site a{
      color:#e9e6df;
      text-decoration:none;
      border-bottom:1px dotted rgba(255,255,255,0.3);
    }
    footer.site a:hover{
      border-bottom-color:#fff;
    }
    footer.site p,
    footer.site a{
      font-size:15px;
    }
    .socials{
      margin-top:16px;
      display:flex;
      justify-content:center;
      gap:16px;
    }
    .socials a{
      color:#cfd7dd;
      text-decoration:none;
      font-size:18px;
    }
  </style>
</head>
<body>

  <!-- NAV -->
  <nav class="topnav">
    <div class="nav-inner">
      <ul class="nav-links">
        <li class="menu-item has-sub">
          <a href="#" class="menu-label">My Music</a>
          <ul class="submenu">
            <li><a href="tim-and-katie.html">Tim &amp; Katie</a></li>
            <li><a href="boathouse.html">Boathouse</a></li>
            <li><a href="solo.html">Solo Act</a></li>
            <li><a href="studio.html">Studio / Session Work</a></li>
          </ul>
        </li>
        <li><a href="#about">About</a></li>
        <li><a href="#watch">Watch</a></li>
        <li><a href="#contact">Contact</a></li>
      </ul>
    </div>
  </nav>

  <!-- HERO -->
  <header class="hero">
    <div class="hero-bg">
      <img id="hero-img" alt="Hero Background" fetchpriority="high" loading="eager" decoding="async" />
    </div>

    <div class="hero-center">
      <img src="/assets/tb-logo.png?v=40" alt="Tim Beckman Logo" />
      <div class="social-icons" aria-label="Social links">
        <a href="https://instagram.com/timbeckmanmusic" target="_blank" rel="noopener" aria-label="Instagram">
          <svg viewBox="0 0 24 24"><path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zm5 3a5 5 0 1 1 0 10 5 5 0 0 1 0-10zm0 2.2A2.8 2.8 0 1 0 12 17.8 2.8 2.8 0 0 0 12 9.2zm5.4-1.6a1.1 1.1 0 1 0 0-2.2 1.1 1.1 0 0 0 0 2.2z"/></svg>
        </a>
        <a href="https://facebook.com/timandkatieacoustic" target="_blank" rel="noopener" aria-label="Facebook">
          <svg viewBox="0 0 24 24"><path d="M13 3h3a1 1 0 0 1 1 1v3h-3a2 2 0 0 0-2 2v3h5l-1 4h-4v8h-4v-8H6v-4h3V9a5 5 0 0 1 5-5z"/></svg>
        </a>
        <a href="https://youtube.com/@timbeckmanmusic" target="_blank" rel="noopener" aria-label="YouTube">
          <svg viewBox="0 0 24 24"><path d="M23.5 7.6a3 3 0 0 0-2.1-2.1C19.5 5 12 5 12 5s-7.5 0-9.4.5A3 3 0 0 0 .5 7.6 31.4 31.4 0 0 0 0 12a31.4 31.4 0 0 0 .5 4.4 3 3 0 0 0 2.1 2.1C4.5 19 12 19 12 19s7.5 0 9.4-.5a3 3 0 0 0 2.1-2.1A31.4 31.4 0 0 0 24 12a31.4 31.4 0 0 0-.5-4.4zM9.8 15.2V8.8L15.5 12l-5.7 3.2z"/></svg>
        </a>
        <a href="mailto:timbeckmanmusic@gmail.com" aria-label="Email">
          <svg viewBox="0 0 24 24"><path d="M2 5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5zm2 0l8 6 8-6H4zm16 14V8l-8 6-8-6v11h16z"/></svg>
        </a>
      </div>
    </div>
  </header>

  <!-- HERO image loader with fallbacks -->
  <script>
    (function(){
      const hero = document.getElementById('hero-img');
      const candidates = [
        '/assets/hero-lake.webp?v=40',
        '/assets/hero-lake.jpeg?v=40',
        '/assets/hero-lake.jpg?v=40',
        '/assets/hero-lake.JPG?v=40',
        '/assets/Hero-lake.jpg?v=40',
        '/assets/HERO-LAKE.JPG?v=40'
      ];
      let i = 0;
      function tryNext(){
        if(i >= candidates.length) return;
        hero.src = candidates[i++];
        hero.onerror = tryNext;
      }
      tryNext();
    })();
  </script>

  <!-- ABOUT -->
  <!-- ABOUT -->
<!-- ABOUT -->
<section id="about" class="about-me">
  <div class="about-card">
    <img src="/assets/tim-headshot-pines.jpeg" alt="Tim Beckman with guitar" />

    <div class="about-overlay">
      <h2 class="about-handwritten">The Obligatory About Me Section</h2>
      <div class="about-copy">
        <p>
          I grew up in a house where guitars were basically furniture and someone was always singing — usually whether you wanted them to or not. My dad
          (<a href="https://lynnbeckman.com" target="_blank" rel="noopener">lynnbeckman.com</a>) played classic country, my brothers blasted Van Halen and AC/DC, and somewhere between honky-tonk and hair metal, I decided I liked both.
        </p>
        <p>
          I started playing in bar bands at 16 with my oldest brother and have basically been making noise in one form or another ever since.
        </p>
        <p>
          These days I split my time between Tim &amp; Katie, Boathouse, and solo shows — mixing country roots, rock energy, and just enough sarcasm to keep things interesting.
        </p>
      </div>
    </div>
  </div>
</section>



  <!-- WATCH + EVENTS -->
  <section id="watch" class="watch">
    <div class="wrap">
      <!-- LEFT: Random latest video -->
      <div>
        <h2>Latest Videos</h2>
        <div class="video-embed">
          <iframe
            id="yt-random"
            title="Tim Beckman Music — Video"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen
            loading="lazy">
          </iframe>
        </div>
      </div>

      <!-- RIGHT: Events from Google Calendar -->
      <aside class="events" aria-label="Upcoming events">
        <h3>Upcoming Shows</h3>
        <div id="events" class="events-list">
          <!-- filled by JS -->
        </div>

        <div class="cal-links">
          <a href="https://calendar.google.com/calendar/u/0?cid=timbeckmanmusic@gmail.com" target="_blank" rel="noopener">
            Open full calendar
          </a>
        </div>
      </aside>
    </div>
  </section>

  <!-- FOOTER -->
  <footer id="contact" class="site">
    <p><strong>Tim Beckman</strong></p>
    <p><a href="mailto:timbeckmanmusic@gmail.com">timbeckmanmusic@gmail.com</a> · Maryland</p>
    <div class="socials">
      <a href="https://instagram.com/timbeckmanmusic" target="_blank" rel="noopener">Instagram</a>
      <a href="https://facebook.com/timandkatieacoustic" target="_blank" rel="noopener">Facebook</a>
      <a href="https://youtube.com/@timbeckmanmusic" target="_blank" rel="noopener">YouTube</a>
    </div>
    <p style="opacity:.6;font-size:.9rem;margin-top:12px">© 2025 Tim Beckman Music</p>
  </footer>

  <!-- YT API + CALENDAR EVENTS -->
  <script>
    const API_KEY = "AIzaSyCPo9SSELKsjj-EZpTziwZbwLFuLZUBitU";
    const YT_CHANNEL_ID = "UCr94kpV8B3v6tGQPJ8pf0iQ";
    const CALENDAR_ID = "timbeckmanmusic@gmail.com";

    // ---- YouTube Data API: load latest uploads, pick one at random ----
    (async function loadRandomVideo() {
      const iframe = document.getElementById("yt-random");
      if (!iframe) return;

      try {
        const url =
          "https://www.googleapis.com/youtube/v3/search" +
          "?part=snippet,id" +
          "&order=date" +
          "&maxResults=10" +
          "&type=video" +
          "&channelId=" + YT_CHANNEL_ID +
          "&key=" + API_KEY;

        const res = await fetch(url);
        if (!res.ok) throw new Error("YouTube API error: " + res.status);
        const data = await res.json();

        const videos = (data.items || []).filter(
          item => item.id && item.id.videoId
        );
        if (!videos.length) throw new Error("No videos returned");

        const random = videos[Math.floor(Math.random() * videos.length)];
        const id = random.id.videoId;
        iframe.src = "https://www.youtube-nocookie.com/embed/" + id;
      } catch (err) {
        console.error("YT API error, falling back:", err);
        // Fallback: uploads playlist
        iframe.src = "https://www.youtube.com/embed?listType=user_uploads&list=" + YT_CHANNEL_ID;
      }
    })();

    // ---- Google Calendar API: load upcoming events ----
    (async function loadCalendarEvents() {
      const container = document.getElementById("events");
      if (!container) return;

      // show simple loading text
      container.innerHTML = `<div class="ev"><div class="line1">Loading shows…</div></div>`;

      try {
        const timeMin = encodeURIComponent(new Date().toISOString());
        const url =
          "https://www.googleapis.com/calendar/v3/calendars/" +
          encodeURIComponent(CALENDAR_ID) +
          "/events?key=" + API_KEY +
          "&singleEvents=true" +
          "&orderBy=startTime" +
          "&timeMin=" + timeMin +
          "&maxResults=3";

        const res = await fetch(url);
        if (!res.ok) throw new Error("Calendar API error: " + res.status);
        const data = await res.json();
        const items = (data.items || []).filter(ev => ev.status !== "cancelled");

        if (!items.length) {
          container.innerHTML = `<div class="ev">
            <div class="line1">No upcoming shows on the calendar (yet).</div>
            <div class="line2">Check back soon or open the full calendar.</div>
          </div>`;
          return;
        }

        const optsDateTime = { weekday: "short", month: "short", day: "numeric", hour: "numeric", minute: "2-digit" };
        const optsDateOnly = { weekday: "short", month: "short", day: "numeric" };

        container.innerHTML = items.map(ev => {
          const start = ev.start && (ev.start.dateTime || ev.start.date);
          let whenText = "";
          if (start) {
            const d = new Date(start);
            whenText = ev.start.dateTime
              ? d.toLocaleString("en-US", optsDateTime)
              : d.toLocaleDateString("en-US", optsDateOnly);
          }

          const summary = ev.summary || "Untitled event";
          const location = ev.location || "Location TBA";
          const link = ev.htmlLink || "";

          return `
            <div class="ev">
              <div class="line1">${summary}</div>
              <div class="line2">${location}</div>
              ${whenText ? `<div class="meta">${whenText}</div>` : ""}
              ${link ? `<a class="cta" href="${link}" target="_blank" rel="noopener">Details</a>` : ""}
            </div>
          `;
        }).join("");
      } catch (err) {
        console.error("Calendar API error:", err);
        container.innerHTML = `<div class="ev">
          <div class="line1">Couldn’t load shows from the calendar.</div>
          <div class="line2">You can still open the full calendar using the button below.</div>
        </div>`;
      }
    })();
  </script>
</body>
</html>
